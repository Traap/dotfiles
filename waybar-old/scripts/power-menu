#!/bin/bash

# Show the main power menu
CHOICE=$(printf "ğŸ”’ Lock\nğŸ”“ Logout\nğŸ”„ Reboot\nâ» Shutdown" | wofi --show dmenu --prompt "Power Menu" --insensitive)

case "$CHOICE" in
  "ğŸ”’ Lock")
    swaylock -c ~/.config/swaylock/config
    ;;
  "ğŸ”“ Logout")
    swaymsg exit
    ;;
  "ğŸ”„ Reboot")
    CONFIRM=$(printf "No\nYes" | wofi --show dmenu --prompt "Confirm Reboot?" --insensitive)
    if [[ "$CONFIRM" == "Yes" ]]; then
      systemctl reboot
    fi
    ;;
  "â» Shutdown")
    CONFIRM=$(printf "No\nYes" | wofi --show dmenu --prompt "Confirm Shutdown?" --insensitive)
    if [[ "$CONFIRM" == "Yes" ]]; then
      systemctl poweroff
    fi
    ;;
esac
