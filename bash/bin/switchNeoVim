#!/bin/bash
# {{{ Swap NeoVim environments
#
# Name: switchNeoVim
#
# Use:
#  switchNeoVim LunarVim
#
# Argument:
#  $1 - Different Neovim environments I have installed.
#
# Note:
#   1. This function changes the symbolic link to NeoVim only.
#   2. Install the experimental NeoVim environment first.
#
# -------------------------------------------------------------------------- }}}
# {{{ removePackages

removePackages() {
  rm -rf ~/.cache/nvim
  rm -rf ~/.config/nvim
  rm -rf ~/.local/share/nvim
  rm -rf ~/.local/state/nvim
}

# -------------------------------------------------------------------------- }}}
# {{{ Validate argument.

if [[ $# -eq 1 ]]; then

# -------------------------------------------------------------------------- }}}
# {{{ Set the NeoVim enfironment.

case $1 in
  lazy)
    removePackages
    ln -fsv ~/git/lzvim.starter ~/.config/nvim
    ;;
  nvim)
    removePackages
    echo 'Neovim without plugins.'
    ;;
  prime)
    removePackages
    rm -rf  ~/git/prime/plugin
    ln -fsv ~/git/prime ~/.config/nvim
    ;;
  tj)
    removePackages
    ln -fsv ~/git/kickstart.nvim ~/.config/nvim
    ;;
  traap)
    removePackages
    ln -fsv ~/git/nvim ~/.config/nvim
    ;;
  zulu)
    removePackages
    rm -rf  ~/git/nvim2/plugin
    ln -fsv ~/git/nvim2 ~/.config/nvim
    ;;
  *)
esac

# -------------------------------------------------------------------------- }}}
# {{{ Report user input error.

else
  echo "NeoVim name [kick|nvim|prime|tj|traap] is required" \
      && exit
fi

# -------------------------------------------------------------------------- }}}
# {{{ Exit gracefully

exit 0

# -------------------------------------------------------------------------- }}}
