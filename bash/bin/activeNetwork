#!/usr/bin/env bash
echo "System Information"
uname -a
echo "User: $(whoami)"
echo "Hostname: $(hostname)"
echo "Kernel: $(uname -r)"
echo "Uptime: $(uptime -p)"
echo

echo "Network Interfaces"
ip link show | grep -E '^[0-9]+: '
echo

echo "Active Interface"
ip route get 8.8.8.8 || log_warn "Unable to reach external route."
echo

echo "Insepct resovl.conf"
cat /etc/resolv.con
echo

echo "Confirm which service manages DNS"
systemctl --no-pager status systemd-resolved
echo

echo "Confirm DNS symbolic link"
ls -l /etc/resolve.conf
echo

# NOTE:  Defined in ~/.config/environment.d/your-file-name.conf because Hyprland
#        loads this file automagically.
if [[ -n "$PRIVATE_NETWORK" ]]; then
  echo "Test Private DNS"
  dig +short vchrp.ent.co.ventua.ca.us
else
  echo "INFO: Test Private DNS skipped"
fi
echo
