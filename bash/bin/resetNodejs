#!/bin/bash

echo "Removing /usr/lib/modules"
sudo rm -rf /usr/lib/node_modules

if programExists apt-get; then
  packages=(
    @angular/cli
    cmdtest
    neovim
    node-gyp
    nodejs
    npm
  )
  sudo apt remove     -y npm
  sudo apt autoremove -y npm
  sudo apt install    -y npm

else
  packages=(
    @angular/cli
    neovim
    node-gyp
    nodejs
    nodejs-nopt
    npm
    semver
    yarn
  )
  sudo pacman -R  --noconfirm npm
  sudo pacman -Sy --noconfirm npm
fi

echo "Installing npm packages ${packages[@]}"
sudo npm install -g "${packages[@]}"
